<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>書籍検索 - 貸出・返却システム</title>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <style>
        body {
            font-family: sans-serif;
            text-align: center;
            margin: 0;
            padding: 0;
            background-color: #f4f4f4;
        }
        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background-color: #fff;
            padding: 10px 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            max-width: 900px;
            margin: 0 auto;
        }
        .home-link {
            border: 1px solid #000;
            border-radius: 8px;
            padding: 5px 15px;
            background: #fff;
            cursor: pointer;
            text-decoration: none;
            color: #000;
            display: inline-flex;
            align-items: center;
            font-size: 1em;
        }
        .home-link .material-icons {
            margin-right: 5px;
        }
        .search-container {
            display: flex;
            align-items: center;
            flex-grow: 1;
            justify-content: flex-end;
        }
        .search-group {
            display: flex;
            align-items: center;
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 5px;
            margin-left: 10px;
            background-color: #f9f9f9;
        }
        .search-group input[type="text"],
        .search-group select {
            border: none;
            outline: none;
            padding: 5px;
            font-size: 1em;
            background: none;
            width: 150px;
        }
        .search-group .material-icons {
            cursor: pointer;
            color: #666;
            margin-left: 5px;
            padding: 2px;
        }
        .search-group .material-icons:hover {
            color: #0056b3;
        }
        .main-content {
            padding: 20px;
            max-width: 900px;
            margin: 0 auto;
            text-align: left;
        }
        .hit-count {
            text-align: center;
            font-size: 1.5em;
            margin: 20px 0;
            padding-bottom: 10px;
            border-bottom: 2px solid #ccc;
        }
        .results-list {
            max-height: 500px;
            overflow-y: auto;
            padding-right: 15px;
        }
        .book-item {
            display: flex;
            border: 1px solid #ddd;
            padding: 15px;
            margin-bottom: 15px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.05);
        }
        .book-image {
            width: 100px;
            height: 140px;
            border: 1px solid #ccc;
            margin-right: 15px;
            object-fit: cover;
        }
        .book-info h3 {
            margin: 0;
            font-size: 1.2em;
        }
        .book-info p {
            margin: 5px 0;
        }
        .availability {
            font-weight: bold;
            color: #007b00;
        }
        .unavailable {
            color: #c00;
        }
    </style>
</head>

<body>
    <div class="header">
        <a href="home.html" class="home-link">
            <span class="material-icons">home</span> ホーム
        </a>

        <div class="search-container">
            <!-- タイトル検索 -->
            <div class="search-group">
                <input type="text" id="titleInput" placeholder="タイトル検索">
                <span class="material-icons" onclick="searchByTitle()">search</span>
            </div>

            <!-- カテゴリー検索 -->
            <div class="search-group">
                <select id="categorySelect">
                    <option value="">カテゴリー検索</option>
                    <option value="ファンタジー">ファンタジー</option>
                    <option value="ミステリー">ミステリー</option>
                    <option value="ノンフィクション">ノンフィクション</option>
                    <option value="ホラー">ホラー</option>
                    <option value="専門書">専門書</option>
                    <option value="SF">SF</option>
                    <option value="恋愛">恋愛</option>
                    <option value="児童書">児童書</option>
                    <option value="えほん">えほん</option>
                    <option value="自己啓発本">自己啓発本</option>
                </select>
                <span class="material-icons" onclick="searchByCategory()">search</span>
            </div>
        </div>
    </div>

    <div class="main-content">
        <div id="hitCount" class="hit-count">検索結果がここに表示されます</div>
        <div id="resultsList" class="results-list"></div>
    </div>

    <script>
        // 仮データ
        const books = [
            { title: "星の王子さま", category: "ファンタジー", description: "大人と子どもの心を描いた名作。", available: true, image: "https://via.placeholder.com/100x140?text=星の王子さま" },
            { title: "シャーロック・ホームズの冒険", category: "ミステリー", description: "名探偵ホームズが活躍する推理小説。", available: false, image: "https://via.placeholder.com/100x140?text=ホームズ" },
            { title: "宇宙への旅", category: "SF", description: "未来の宇宙探査を描いた冒険物語。", available: true, image: "https://via.placeholder.com/100x140?text=SF" },
            { title: "心を整える", category: "自己啓発本", description: "前向きに生きるためのヒント集。", available: true, image: "https://via.placeholder.com/100x140?text=自己啓発" },
            { title: "世界の不思議", category: "ノンフィクション", description: "実際に起きた驚きの出来事を紹介。", available: false, image: "https://via.placeholder.com/100x140?text=ノンフィクション" }
        ];

        // タイトル検索
        function searchByTitle() {
            const keyword = document.getElementById("titleInput").value.trim();
            const results = books.filter(b => b.title.includes(keyword));
            showResults(results);
        }

        // カテゴリー検索
        function searchByCategory() {
            const selected = document.getElementById("categorySelect").value;
            const results = books.filter(b => b.category === selected);
            showResults(results);
        }

        // 結果表示
        function showResults(results) {
            const hitCount = document.getElementById("hitCount");
            const resultsList = document.getElementById("resultsList");
            resultsList.innerHTML = "";

            hitCount.textContent = results.length + "件ヒット";

            results.forEach(book => {
                const item = document.createElement("div");
                item.className = "book-item";
                item.innerHTML = `
                    <img src="${book.image}" alt="${book.title}" class="book-image">
                    <div class="book-info">
                        <h3>${book.title}</h3>
                        <p>${book.description}</p>
                        <p class="${book.available ? "availability" : "unavailable"}">
                            ${book.available ? "貸出可" : "貸出不可"}
                        </p>
                    </div>
                `;
                resultsList.appendChild(item);
            });
        }
    </script>
</body>
</html>
