<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>貸出確認画面</title>
    <link rel="stylesheet" href="../static/css/lentconf.css">
</head>
<body>

    <div class="main-container">
        <div class="confirmation-text">
            <div id="book-title-display">（本のタイトル）</div>
            <span>を借りますか？</span>
        </div>

        <div class="button-group">
            <a href="#" class="btn" id="btn-no">いいえ</a>
            <a href="#" class="btn" id="btn-yes">はい</a>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const bookTitleDisplay = document.getElementById('book-title-display');
            const btnNo = document.getElementById('btn-no');
            const btnYes = document.getElementById('btn-yes');
            // ... (JavaScriptコードはそのまま)
            let bookTitle = 'タイトル未取得';
            let bookId = 999;
            function initializeScreen() {
                const params = new URLSearchParams(window.location.search);
                bookTitle = params.get('title') || 'タイトルが見つかりません';
                bookId = params.get('id') || '999';
                bookTitleDisplay.textContent = bookTitle;
            }
            initializeScreen();
            btnNo.addEventListener('click', (e) => {
                e.preventDefault();
                const prevUrl = `bdetail.html?id=${bookId}&title=${encodeURIComponent(bookTitle)}`;
                window.location.href = prevUrl;
            });
            btnYes.addEventListener('click', (e) => {
                e.preventDefault();
                const mockMid = 123;
                const today = new Date().toISOString().split('T')[0];
                console.log('貸出登録');
                console.log(`boid: ${bookId}, mid: ${mockMid}, boday: ${today}`);
                const completionUrl = `lentcomp.html?title=${encodeURIComponent(bookTitle)}`;
                window.location.href = completionUrl;
            });
        });
    </script>
</body>
</html>
